let pokedex=document.querySelector(".list-group"),pokeCache={},fetchPokemon=async()=>{let e=(await (await fetch("https://pokeapi.co/api/v2/pokemon/?limit=150")).json()).results.map((e,t)=>({...e,id:t+1,image:`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${t+1}.png`}));displayPokemon(e)},displayPokemon=e=>{let t=e.map(e=>`
  <li class="card list-group-item text-light text-center text-capitalize btn btn-secondary" data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="selectPokemon(${e.id})">
    <img class="card-image" src="${e.image}" />
    <h2 class="card-title">${e.name}</h2>
  </li>
  `).join("");pokedex.innerHTML=t},selectPokemon=async e=>{if(pokeCache[e])showModal(pokeCache[e]);else{let t=await (await fetch(`https://pokeapi.co/api/v2/pokemon/${e}`)).json();pokeCache[e]=t,showModal(t)}};function showModal(e){let t=e.types.map(e=>e.type.name).join(", "),a=e.sprites.front_default,o=$(".modal-body"),p=$(".modal-title");$(".modal-header"),p.empty(),o.empty();let i="<h1>"+e.id+"  "+e.name+"</h1>",l=$('<img class="modal-img" style="width:50%">');l.attr("src",a);let s=$("<p>Height: "+e.height+" dm </p>"),d=$("<p>Weight: "+e.weight+" hg </p>"),n=$("<p>Type: "+t+"</p>");p.append(i),o.append(l),o.append(s),o.append(d),o.append(n)}let hideModal=()=>{document.getElementByID("pokedex").classList.remove("modal")};window.addEventListener("keydown",e=>{"Escape"===e.key&&hideModal()}),window.addEventListener("click",e=>{document.querySelector("#modal")&&hideModal()},!0),fetchPokemon();